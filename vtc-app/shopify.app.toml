# Learn more about configuring your app at https://shopify.dev/docs/apps/tools/cli/configuration

client_id = "d25559799e3251c1f0df395fc62733a2"
name = "VTC – Calculateur de trajets"
# IMPORTANT (production): avant `shopify app deploy`, synchroniser l'URL Render:
#   APP_URL=https://<votre-app>.onrender.com npm run sync:shopify-url
application_url = "https://vtc-calculateur-de-trajets.onrender.com"
embedded = true


[build]
automatically_update_urls_on_dev = true

[webhooks]
api_version = "2025-10"

  [[webhooks.subscriptions]]
  topics = [ "app/scopes_update" ]
  uri = "/webhooks/app/scopes_update"

  [[webhooks.subscriptions]]
  topics = [ "app/uninstalled" ]
  uri = "/webhooks/app/uninstalled"

[access_scopes]
# Learn more at https://shopify.dev/docs/apps/tools/cli/configuration#access_scopes
scopes = "write_checkouts,read_checkouts,read_products,write_products,write_app_proxy"
optional_scopes = [ ]
use_legacy_install_flow = false

[auth]
# IMPORTANT (production): cette liste est mise à jour par `npm run sync:shopify-url`.
redirect_urls = [
  "https://vtc-calculateur-de-trajets.onrender.com/auth/callback",
  "https://vtc-calculateur-de-trajets.onrender.com/auth/shopify/callback",
  "https://vtc-calculateur-de-trajets.onrender.com/api/auth/callback",
]
[app_proxy]
url = "https://vtc-calculateur-de-trajets.onrender.com/apps/vtc"
subpath = "vtc"
prefix = "apps"
